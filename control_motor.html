<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Motor ESP32</title>
    <script>
        // Cambia esta IP por la del ESP32
        var ws = new WebSocket("ws://192.168.88.101"); // Aquí va la IP de tu ESP32

        ws.onopen = function() {
            console.log("Conectado al ESP32");
        };

        // Función para enviar comandos al ESP32
        function enviarComando(comando) {
            ws.send(comando);
        }

        // Funciones para controlar el motor desde botones
        function girarDerecha() {
            enviarComando("2");  // Comando para girar a la derecha
        }

        function girarIzquierda() {
            enviarComando("1");  // Comando para girar a la izquierda
        }

        function detenerMotor() {
            enviarComando("0");  // Comando para detener el motor
        }

        function cambiarVelocidad(velocidad) {
            enviarComando("3" + velocidad);  // Comando para cambiar velocidad
        }

        // Funciones para acelerar progresivamente
        function acelerarDerecha() {
            enviarComando("4");  // Comando para acelerar hacia la derecha
        }

        function acelerarIzquierda() {
            enviarComando("5");  // Comando para acelerar hacia la izquierda
        }
    </script>
</head>
<body>
    <h1>Control Motor ESP32</h1>
    <button onclick="girarDerecha()">Girar a la derecha</button>
    <button onclick="girarIzquierda()">Girar a la izquierda</button>
    <button onclick="detenerMotor()">Detener Motor</button>
    <br>
    <input type="range" min="0" max="100" step="1" onchange="cambiarVelocidad(this.value)" />
    <span>Velocidad</span>
    <br><br>
    <!-- Nuevos botones para acelerar progresivamente -->
    <button onclick="acelerarDerecha()">Acelerar a la derecha</button>
    <button onclick="acelerarIzquierda()">Acelerar a la izquierda</button>
</body>
</html>
